<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS 2026 Tipovaƒçka</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --accent: #38bdf8;
            --text: #f1f5f9;
            --hover: #334155;
        }

        body { 
            background: var(--bg-color); 
            color: var(--text); 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .tournament-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .main-title {
            text-align: center;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 40px;
        }

        .groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .group-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid #334155;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .group-card h3 {
            text-align: center;
            color: var(--accent);
            margin-top: 0;
            border-bottom: 1px solid #334155;
            padding-bottom: 10px;
        }

        .team-list { 
            list-style: none; 
            padding: 0; 
            margin: 0;
        }

        .team-item {
            background: #334155;
            margin: 10px 0;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: grab;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
            user-select: none;
        }

        .team-item:hover {
            background: #475569;
            transform: scale(1.02);
        }

        .team-item.dragging {
            opacity: 0.5;
            background: var(--accent);
        }

        .rank-badge {
            background: var(--bg-color);
            width: 28px;
            height: 28px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            font-size: 14px;
            font-weight: bold;
            color: var(--accent);
        }

        .actions {
            text-align: center;
            margin-top: 50px;
        }

        .btn-confirm {
            background: var(--accent);
            color: var(--bg-color);
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-confirm:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>

<div class="tournament-container">
    <h1 class="main-title">üèÜ MS 2026 Tipovaƒçka</h1>
    
    <div id="groups-grid" class="groups-grid">
        </div>

    <div class="actions">
        <button class="btn-confirm" onclick="confirmGroups()">Potvrdit po≈ôad√≠ a j√≠t na pavouka ‚Üí</button>
    </div>
</div>

<script>
    const teams = [
        "ƒåesko", "Slovensko", "Braz√≠lie", "Argentina", "Francie", "Anglie", "≈†panƒõlsko", "It√°lie",
        "Nƒõmecko", "Portugalsko", "Nizozemsko", "Belgie", "Chorvatsko", "Uruguay", "Maroko", "Japonsko",
        "USA", "Mexiko", "Kanada", "Senegal", "Polsko", "D√°nsko", "≈†v√Ωcarsko", "Srbsko",
        "Korea", "Austr√°lie", "Egypt", "Tunisko", "Nig√©rie", "Al≈æ√≠rsko", "Katar", "Sa√∫dsk√° Ar√°bie",
        "Rakousko", "Turecko", "Ukrajina", "Maƒèarsko", "Norsko", "≈†v√©dsko", "Skotsko", "Wales",
        "Kolumbie", "Chile", "Ekv√°dor", "Peru", "Paraguay", "Ghana", "Kamerun", "Island"
    ];

    function initTournament() {
        const grid = document.getElementById('groups-grid');
        let teamIndex = 0;

        for (let i = 0; i < 12; i++) {
            const groupLetter = String.fromCharCode(65 + i);
            const groupTeams = teams.slice(teamIndex, teamIndex + 4);
            teamIndex += 4;

            const groupHtml = `
                <div class="group-card">
                    <h3>Skupina ${groupLetter}</h3>
                    <ul class="team-list" id="list-${groupLetter}">
                        ${groupTeams.map((team, index) => `
                            <li class="team-item" draggable="true" ondragstart="handleDragStart(event)" ondragover="handleDragOver(event)" ondragend="handleDragEnd(event)">
                                <span class="team-name">${team}</span>
                                <span class="rank-badge">${index + 1}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `;
            grid.innerHTML += groupHtml;
        }
    }

    // Drag & Drop logika
    let draggingElement = null;

    function handleDragStart(e) {
        draggingElement = e.target;
        e.target.classList.add('dragging');
    }

    function handleDragOver(e) {
        e.preventDefault();
        const list = e.target.closest('.team-list');
        const afterElement = getDragAfterElement(list, e.clientY);
        if (afterElement == null) {
            list.appendChild(draggingElement);
        } else {
            list.insertBefore(draggingElement, afterElement);
        }
        updateBadges(list);
    }

    function handleDragEnd(e) {
        e.target.classList.remove('dragging');
    }

    function getDragAfterElement(container, y) {
        const draggableElements = [...container.querySelectorAll('.team-item:not(.dragging)')];
        return draggableElements.reduce((closest, child) => {
            const box = child.getBoundingClientRect();
            const offset = y - box.top - box.height / 2;
            if (offset < 0 && offset > closest.offset) {
                return { offset: offset, element: child };
            } else {
                return closest;
            }
        }, { offset: Number.NEGATIVE_INFINITY }).element;
    }

    function updateBadges(list) {
        const badges = list.querySelectorAll('.rank-badge');
        badges.forEach((badge, index) => {
            badge.innerText = index + 1;
        });
    }

    function confirmGroups() {
        alert("Skupiny ulo≈æeny! Teƒè bychom mƒõli vygenerovat pavouka (Osmifin√°le).");
        // Tady p≈ô√≠≈°tƒõ nap√≠≈°eme logiku pro pavouka
    }

    window.onload = initTournament;
</script>

</body>
</html>
